{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Shehan\\\\Automated_Garment_Management\\\\frontend\\\\src\\\\discount_componenet\\\\updatediscount.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport './updatediscount.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UpdateDiscount() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [updatediscount, setupdatediscount] = useState({\n    item: \"\",\n    prize: \"\",\n    dis: \"\"\n  });\n  useEffect(() => {\n    const fetchUserData = async () => {\n      try {\n        const response = await fetch(`http://localhost:8080/discount/${id}`);\n        const data = await response.json();\n        console.log(data);\n        if (data.success) {\n          setupdatediscount(data.data);\n        } else {\n          console.error(data.message);\n        }\n      } catch (error) {\n        console.error('Error fetching user data:', error);\n      }\n    };\n    fetchUserData();\n  }, []);\n  const handleInputChange = e => {\n    setupdatediscount({\n      ...updatediscount,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleUpdate = async () => {\n    try {\n      const response = await fetch(`http://localhost:8080/update_discount`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          id: updatediscount._id,\n          ...updatediscount\n        })\n      });\n      const data = await response.json();\n      if (data.success) {\n        console.log('User updated successfully');\n        alert(\"updated successfully\");\n      } else {\n        console.error(data.message);\n      }\n    } catch (error) {\n      console.error('Error updating user:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"discount-update\",\n    children: [/*#__PURE__*/_jsxDEV(\"lable\", {\n      children: \"Item:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      id: \"item\",\n      name: \"item\",\n      onChange: handleInputChange,\n      value: updatediscount === null || updatediscount === void 0 ? void 0 : updatediscount.item\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 106\n    }, this), /*#__PURE__*/_jsxDEV(\"lable\", {\n      children: \"Price:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      id: \"prize\",\n      name: \"prize\",\n      onChange: handleInputChange,\n      value: updatediscount === null || updatediscount === void 0 ? void 0 : updatediscount.prize\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 108\n    }, this), /*#__PURE__*/_jsxDEV(\"lable\", {\n      children: \"Discount:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      id: \"dis\",\n      name: \"dis\",\n      onChange: handleInputChange,\n      value: updatediscount === null || updatediscount === void 0 ? void 0 : updatediscount.dis\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 102\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleUpdate,\n      children: \"Update\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 52\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 62\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/show_discounts\",\n        children: \"Discount List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 9\n  }, this);\n}\n_s(UpdateDiscount, \"E+ffYQP283gQsHFUnozkfWg1kFA=\", false, function () {\n  return [useParams];\n});\n_c = UpdateDiscount;\nexport default UpdateDiscount;\nvar _c;\n$RefreshReg$(_c, \"UpdateDiscount\");","map":{"version":3,"names":["useEffect","useState","useParams","jsxDEV","_jsxDEV","UpdateDiscount","_s","id","updatediscount","setupdatediscount","item","prize","dis","fetchUserData","response","fetch","data","json","console","log","success","error","message","handleInputChange","e","target","name","value","handleUpdate","method","headers","body","JSON","stringify","_id","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","onClick","href","_c","$RefreshReg$"],"sources":["C:/Users/Shehan/Automated_Garment_Management/frontend/src/discount_componenet/updatediscount.js"],"sourcesContent":["import {useEffect, useState} from 'react'\r\nimport { useParams } from 'react-router-dom';\r\nimport './updatediscount.css'\r\n\r\nfunction UpdateDiscount(){\r\n    const { id } = useParams();\r\n    const [updatediscount,setupdatediscount]=useState({\r\n        item:\"\",\r\n        prize:\"\",\r\n        dis:\"\",\r\n    })\r\n\r\n    useEffect(() => {\r\n        const fetchUserData = async () => {\r\n          try {\r\n            const response = await fetch(`http://localhost:8080/discount/${id}`);\r\n            const data = await response.json();\r\n            console.log(data);\r\n    \r\n            if (data.success) {\r\n                setupdatediscount(data.data);\r\n            } else {\r\n              console.error(data.message);\r\n            }\r\n          } catch (error) {\r\n            console.error('Error fetching user data:', error);\r\n          }\r\n        };\r\n    \r\n        fetchUserData();\r\n      }, []);\r\n\r\n\r\n\r\n      const handleInputChange = (e) => {\r\n        setupdatediscount({\r\n          ...updatediscount,\r\n          [e.target.name]: e.target.value,\r\n        });\r\n      };\r\n      const handleUpdate = async () => {\r\n        try {\r\n          const response = await fetch(`http://localhost:8080/update_discount`, {\r\n            method: 'PUT',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n              id: updatediscount._id,\r\n              ...updatediscount,\r\n            }),\r\n          });\r\n    \r\n          const data = await response.json();\r\n    \r\n          if (data.success) {\r\n            console.log('User updated successfully');\r\n           alert(\"updated successfully\");\r\n\r\n          } else {\r\n            console.error(data.message);\r\n          }\r\n        } catch (error) {\r\n          console.error('Error updating user:', error);\r\n        }\r\n      };\r\n\r\n\r\n    return(\r\n        <div className='discount-update'>\r\n\r\n\r\n    <lable>Item:</lable>\r\n    <input type=\"text\" id=\"item\" name=\"item\" onChange={handleInputChange} value={updatediscount?.item }/><br></br>\r\n    <lable>Price:</lable>\r\n    <input type=\"text\" id=\"prize\" name=\"prize\" onChange={handleInputChange} value={updatediscount?.prize}/><br></br>\r\n    <lable>Discount:</lable>\r\n    <input type=\"text\" id=\"dis\" name=\"dis\" onChange={handleInputChange} value={updatediscount?.dis}/><br></br> \r\n  \r\n\r\n\r\n\r\n  \r\n    <button onClick={handleUpdate} >Update</button><br></br> <br></br> \r\n    <button><a href='/show_discounts'>Discount List</a></button>\r\n \r\n        </div>\r\n    )\r\n}\r\nexport default UpdateDiscount;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}