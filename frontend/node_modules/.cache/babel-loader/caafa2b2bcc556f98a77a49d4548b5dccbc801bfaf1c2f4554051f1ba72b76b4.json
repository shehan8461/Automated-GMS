{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Shehan\\\\Automated_Garment_Management\\\\frontend\\\\src\\\\discount_componenet\\\\discountdetails.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState, useRef } from 'react';\nimport axios from \"axios\";\nimport './showdiscount.css';\nimport { useReactToPrint } from \"react-to-print\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction DiscountDetails() {\n  _s();\n  const componentPDF = useRef();\n  const [showdiscounts, setshowdiscounts] = useState([]);\n\n  //read\n  const getfetchdata = async () => {\n    try {\n      const data = await axios.get(\"http://localhost:8080/discount_read\");\n      console.log(data.data.success);\n      if (data.data.success) {\n        setshowdiscounts(data.data.data);\n      }\n    } catch (err) {\n      alert(err);\n    }\n  };\n  useEffect(() => {\n    getfetchdata();\n  }, []);\n\n  //delete\n  const handledelete = async id => {\n    const data = await axios.delete(\"http://localhost:8080/delete_discount/\" + id);\n    if (data.data.success) {\n      getfetchdata();\n      console.log(data.data.message);\n      alert(\"Discount item deleted Successfully!\");\n    }\n  };\n  //generatePDF\n  const generatePDF = useReactToPrint({\n    content: () => componentPDF.current,\n    documentTitle: \"showdiscounts\",\n    onAfterPrint: () => alert(\"data save in pdf\")\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"showdiscount\",\n    children: /*#__PURE__*/_jsxDEV(\"body\", {\n      className: \"background-marketing\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        ref: componentPDF,\n        style: {\n          width: '100%'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Item  Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Item Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Discount\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Choose Option\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: showdiscounts.map(e1 => {\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [\" \", e1.item]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 62,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [\" \", e1.prize]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [\" \", e1.prize - e1.dis / 100 * e1.prize]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 64,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                    href: `/update_discount/${e1._id}`,\n                    children: \"Edit Discount\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 68,\n                    columnNumber: 31\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handledelete(e1._id),\n                    children: \"Delete Item\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 69,\n                    columnNumber: 31\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 27\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 2\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"btnreport\",\n        onClick: generatePDF,\n        children: \"Download Report\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 3\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 16\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n}\n_s(DiscountDetails, \"KyPvI3/N3sO+VYpEEHtLZjabXJY=\", false, function () {\n  return [useReactToPrint];\n});\n_c = DiscountDetails;\nexport default DiscountDetails;\nvar _c;\n$RefreshReg$(_c, \"DiscountDetails\");","map":{"version":3,"names":["useEffect","useState","useRef","axios","useReactToPrint","jsxDEV","_jsxDEV","DiscountDetails","_s","componentPDF","showdiscounts","setshowdiscounts","getfetchdata","data","get","console","log","success","err","alert","handledelete","id","delete","message","generatePDF","content","current","documentTitle","onAfterPrint","className","children","ref","style","width","fileName","_jsxFileName","lineNumber","columnNumber","map","e1","item","prize","dis","href","_id","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Shehan/Automated_Garment_Management/frontend/src/discount_componenet/discountdetails.js"],"sourcesContent":["import  { useEffect, useState ,useRef} from 'react'\r\nimport axios from \"axios\"\r\nimport './showdiscount.css'\r\nimport {useReactToPrint} from \"react-to-print\";\r\n\r\nfunction DiscountDetails(){\r\n    const componentPDF=useRef();\r\n    const [showdiscounts,setshowdiscounts]=useState([]);\r\n\r\n//read\r\nconst getfetchdata=async()=>{\r\n    try{\r\n    const data=await axios.get(\"http://localhost:8080/discount_read\")\r\n    console.log(data.data.success)\r\n    if(data.data.success){\r\n        setshowdiscounts(data.data.data)\r\n    }\r\n}catch(err){\r\n    alert(err)\r\n}\r\n}\r\nuseEffect(()=>{\r\n    getfetchdata()   \r\n},[])\r\n\r\n//delete\r\nconst handledelete= async(id)=>{\r\n    const data=await axios.delete(\"http://localhost:8080/delete_discount/\"+id)\r\n    if(data.data.success){\r\n        getfetchdata()\r\n        console.log(data.data.message)\r\n        alert(\"Discount item deleted Successfully!\")\r\n    }\r\n}\r\n//generatePDF\r\nconst generatePDF=useReactToPrint({\r\n    content:()=>componentPDF.current,\r\n    documentTitle:\"showdiscounts\",\r\n    onAfterPrint:()=>alert(\"data save in pdf\")\r\n})\r\n    return(\r\n        <div className=\"showdiscount\">\r\n               <body className='background-marketing'>\r\n            <div ref={componentPDF} style={{width:'100%'}}>\r\n <table>\r\n              \r\n              <tr>\r\n              <th>Item  Name</th>\r\n              <th>Item Price</th>\r\n              <th>Discount</th>\r\n              <th>Choose Option</th>\r\n             \r\n              \r\n              </tr>\r\n\r\n\r\n              <tbody>\r\n                  { \r\n                     showdiscounts.map((e1)=>{\r\n                      return(\r\n                          <tr> \r\n                            <td> {e1.item}</td> \r\n                            <td> {e1.prize}</td> \r\n                            <td> {e1.prize-(e1.dis/100)*e1.prize}</td> \r\n                         \r\n                           \r\n                            <td>\r\n                              <a href={`/update_discount/${e1._id}`}>Edit Discount</a>\r\n                              <button onClick={()=>handledelete(e1._id)}>Delete Item</button>\r\n                            </td>\r\n                          </tr>\r\n                      )\r\n\r\n              })\r\n                  }\r\n              </tbody>\r\n  </table>\r\n  </div>\r\n  <button id=\"btnreport\" onClick={generatePDF}>Download Report</button>\r\n  </body>\r\n        </div>\r\n    )\r\n}\r\nexport default DiscountDetails;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}